<form [formGroup]="form" (ngSubmit)="submit()" class="space-y-6 w-full max-w-sm mx-auto">
  <!-- Username -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1"> Nom d'utilisateur </label>
    <input
      formControlName="username"
      type="text"
      placeholder="ex: john_doe"
      class="w-full h-12 px-4 border border-gray-300 rounded-md focus:ring-2 focus:ring-black focus:outline-none text-sm"
    />
    <p
      class="text-red-600 text-xs mt-1"
      *ngIf="form.get('username')?.touched && form.get('username')?.hasError('required')"
    >
      Le nom d'utilisateur est requis.
    </p>
  </div>

  <!-- Password -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1"> Mot de passe </label>
    <input
      formControlName="password"
      type="password"
      placeholder="•••••••"
      class="w-full h-12 px-4 border border-gray-300 rounded-md focus:ring-2 focus:ring-black focus:outline-none text-sm"
    />
    <p
      class="text-red-600 text-xs mt-1"
      *ngIf="form.get('password')?.touched && form.get('password')?.hasError('required')"
    >
      Le mot de passe est requis.
    </p>
  </div>

  <!-- Error Message -->
  <div
    *ngIf="error"
    class="bg-red-50 border border-red-300 text-red-700 py-2 px-3 rounded text-sm text-center"
  >
    {{ error }}
  </div>

  <!-- Submit -->
  <button
    type="submit"
    [disabled]="loading || form.invalid"
    class="w-full h-12 bg-black text-white font-semibold text-sm rounded-md hover:bg-gray-800 transition disabled:bg-gray-400 disabled:cursor-not-allowed"
  >
    <ng-container *ngIf="!loading">Se connecter</ng-container>

    <ng-container *ngIf="loading">
      <mat-progress-spinner mode="indeterminate" diameter="60"></mat-progress-spinner>
    </ng-container>
  </button>
</form>
